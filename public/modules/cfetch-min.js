export const cfetch=()=>{fetch("/data").then(e=>e.json()).then(e=>{e.data.items.forEach(e=>{const t=e;if(t.fields.hasOwnProperty("background"));else if(t.fields.hasOwnProperty("description"))if(t.hasOwnProperty("videoLink")){const e=`\n            <img data-src=${t.fields.image.fields.file.url} alt="" data-lazy-load >\n           <p class="title" >${t.title["en-US"]}  </p>\n           \n           <p id="description" style="display:none">\n             ${t.fields.description}\n           </p>\n           <video src=${t.fields.videoLink}  controls style="width: 100%; height: auto; display:none"></video>\n          `,i=`<img data-src=${t.fields.image.fields.file.url} alt="" data-lazy-load > `,n=document.createElement("div"),s=document.createElement("div");s.className="previews",s.innerHTML=i,n.className="movie",n.innerHTML=e,document.querySelector(".movieContainer").append(n)}else{const e=`\n             <img data-src=${t.fields.image.fields.file.url} alt="" data-lazy-load >\n            <p class="title" >${t.fields.title}  </p>\n            \n            <p id="description" style="display:none">\n              ${t.fields.description}\n            </p>\n            <video src=${t.fields.videoLink}  controls style="width: 100%; height: auto; display:none"></video>\n            `,i=`<img data-src=${t.fields.image.fields.file.url} alt="" data-lazy-load > `,n=document.createElement("div"),s=document.createElement("div");s.className="previews",s.innerHTML=i,n.className="movie",n.innerHTML=e,document.querySelector(".movieContainer").append(n)}else{const e=` <img data-src=${t.fields.image.fields.file.url} alt="" data-lazy-load >\n                <p class="t">${t.fields.title}</p>`,i=document.createElement("div");i.className="previews",i.innerHTML=e,document.querySelector(".slide").append(i)}});const t=document.querySelectorAll("[data-src]");console.log(t);const i=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(!function(e){const t=e.getAttribute("data-src");if(!t)return;e.src=t;console.log("Run")}(e.target),t.unobserve(e.target))})},{});t.forEach(e=>{i.observe(e)})})};