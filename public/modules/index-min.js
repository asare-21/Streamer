import{Return}from"./slide-min.js";import{Fetch}from"./fetch-min.js";import{navigate}from"./pages-min.js";import{description}from"./pop-min.js";let count=!0,c=!0;const db=firebase.firestore();document.body.addEventListener("click",description),document.body.addEventListener("click",navigate),document.querySelector(".burgerContainer").addEventListener("click",e=>{(e.target.classList.contains("line")||e.target.classList.contains("burgerContainer")||e.target.classList.contains("fa-arrow-right"))&&(document.querySelector(".side-nav").classList.toggle("toggle"),document.querySelectorAll(".category li").forEach(e=>{e.classList.toggle("toggle")}),c?document.querySelectorAll(".navigation i").forEach(e=>{e.style.display="none",c=!1}):(c=!0,document.querySelectorAll(".navigation i").forEach(e=>{e.style.display="flex"})))});const sn=document.querySelector(".side-nav"),n=document.querySelector(".navigation");function checkLength(){pageYOffset>250?(sn.style.background="white",n.style.background="white",sn.style.transition="all 0.5s linear",document.querySelectorAll(".side-nav p").forEach(e=>{e.style.color="black"}),document.querySelectorAll(".navigation p").forEach(e=>{e.style.color="black"}),document.querySelectorAll(".line").forEach(e=>{e.style.backgroundColor="black"}),document.querySelector(".account-modal").style.top=pageYOffset+"px",document.querySelector(".movieDesDisplay").style.top=pageYOffset-100+"px"):(sn.style.transition="all 0.8s linear",n.style.background="linear-gradient(to right, rgb(15, 32, 39), rgb(32, 58, 67), rgb(44, 83, 100))",sn.style.background="linear-gradient(to right, rgb(15, 32, 39), rgb(32, 58, 67), rgb(44, 83, 100))",document.querySelectorAll(".side-nav p").forEach(e=>{e.style.color="white"}),document.querySelectorAll(".line").forEach(e=>{e.style.backgroundColor="white"}),document.querySelectorAll(".navigation p").forEach(e=>{e.style.color="white"}),document.querySelector(".account-modal").style.top=pageYOffset+"px",document.querySelector(".movieDesDisplay").style.top=pageYOffset-100+"px")}function Load(){contentful.createClient({space:"g83j5mjjg3ig",accessToken:"guJQMz5h39zhGLFemZudb_AUudM5d23tf0RkNehkPXY"}).sync({initial:!0}).then(e=>{e.entries.forEach(e=>{const n=e.fields;if(n.hasOwnProperty("background"));else if(n.hasOwnProperty("videoLink")){const e=`\n        <img src=${n.image["en-US"].fields.file["en-US"].url} alt="">\n       <p class="title" >${n.title["en-US"]}  </p>\n       \n       <p id="description" style="display:none">\n         ${n.description["en-US"]}\n       </p>\n       <video src="${n.videoLink["en-US"]}"  controls style="width: 100%; height: auto; display:none"></video>\n      `,t=`<img src=${n.image["en-US"].fields.file["en-US"].url} alt=""> `,i=document.createElement("div"),o=document.createElement("div");o.className="previews",o.innerHTML=t,i.className="movie",i.innerHTML=e,document.querySelector(".movieContainer").append(i),document.querySelector(".slide").append(o)}else{const e=`\n         <img src=${n.image["en-US"].fields.file["en-US"].url} alt="">\n        <p class="title" >${n.title["en-US"]}  </p>\n        \n        <p id="description" style="display:none">\n          ${n.description["en-US"]}\n        </p>\n        <video src=""  controls style="width: 100%; height: auto; display:none"></video>\n        `,t=`<img src=${n.image["en-US"].fields.file["en-US"].url} alt=""> `,i=document.createElement("div"),o=document.createElement("div");o.className="previews",o.innerHTML=t,i.className="movie",i.innerHTML=e,document.querySelector(".movieContainer").append(i),document.querySelector(".slide").append(o)}})})}window.onscroll=checkLength,firebase.auth().onAuthStateChanged((function(e){e?(document.querySelector("#name").value=e.displayName,document.querySelector(".picSelect img").src=e.photoURL,document.querySelector("#emailLink").value=e.email):window.location.replace("in.html")})),document.getElementById("search").addEventListener("keyup",()=>{if(""==document.getElementById("search").value){document.querySelector(".movieContainer").innerHTML="",contentful.createClient({space:"g83j5mjjg3ig",accessToken:"guJQMz5h39zhGLFemZudb_AUudM5d23tf0RkNehkPXY"}).sync({initial:!0}).then(e=>{e.entries.forEach(e=>{const n=e.fields;if(n.hasOwnProperty("videoLink")){const e=`\n            <img src=${n.image["en-US"].fields.file["en-US"].url} alt="">\n           <p class="title" >${n.title["en-US"]}  </p>\n           \n           <p id="description" style="display:none">\n             ${n.description["en-US"]}\n           </p>\n           <video src="${n.videoLink["en-US"]}"  controls style="width: 100%; height: auto; display:none"></video>\n          `,t=`<img src=${n.image["en-US"].fields.file["en-US"].url} alt=""> `,i=document.createElement("div"),o=document.createElement("div");o.className="previews",o.innerHTML=t,i.className="movie",i.innerHTML=e,document.querySelector(".movieContainer").append(i),document.querySelector(".slide").append(o)}})})}else{contentful.createClient({space:"g83j5mjjg3ig",accessToken:"guJQMz5h39zhGLFemZudb_AUudM5d23tf0RkNehkPXY"}).getEntries({content_type:"product","fields.title[match]":document.getElementById("search").value}).then(e=>{e.items.forEach(e=>{const n=e.fields;if(document.querySelector(".movieContainer").innerHTML="",n.hasOwnProperty("videoLink")){const e=`\n            <img src=${n.image.fields.file.url} alt="">\n           <p class="title" >${n.title} <a href=${n.downloadUrl} download><i class="fas fa-cloud-download-alt"></i></a> </p>\n           \n           <p id="description" style="display:none">\n             ${n.description["en-US"]}\n           </p>\n           <video src="${n.videoLink}"  controls style="width: 100%; height: auto; display:none"></video>\n          `,t=`<img src=${n.image.fields.file.url} alt=""> `,i=document.createElement("div"),o=document.createElement("div");o.className="previews",o.innerHTML=t,i.className="movie",i.innerHTML=e,document.querySelector(".movieContainer").append(i)}else{const e=`\n             <img src=${n.image.fields.file.url} alt="">\n            <p class="title" >${n.title} <a href=${n.downloadUrl} download><i class="fas fa-cloud-download-alt"></i></a> </p>\n            \n            <p id="description" style="display:none">\n              ${n.description}\n            </p>\n            <video src=""  controls style="width: 100%; height: auto; display:none"></video>\n            `,t=`<img src=${n.image.fields.file.url} alt=""> `,i=document.createElement("div"),o=document.createElement("div");o.className="previews",o.innerHTML=t,i.className="movie",i.innerHTML=e,document.querySelector(".movieContainer").append(i)}})}).catch(console.error)}}),onload=Load();